<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <h1>天气</h1>
    <script>
        function w(opt){
            //1 new
            var xmlReq = new window.XMLHttpRequest();
            //2 设置回调
            xmlReq.onreadystatechange=function(){
                if(xmlReq.readyState==4){
                    if(xmlReq.status==200){
                        data = xmlReq.responseText;
                        opt.success(data)
                    }
                    else{
                        alert("所请求的服务不存在或出错。")
                    }
                }
            };
            //3 设置请求头
            xmlReq.open(opt.method, opt.url)
            //4
            
            xmlReq.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
            //5
            xmlReq.send()
        }
        w({
            method:"get",
            url:"http://127.0.0.1:5000/w?day=1",
            success:function(data){
                alert(data);
            }
        });

    </script>
</body>
</html>